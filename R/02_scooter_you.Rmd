---
title: Scooter
output: github_document
params:
  continent:
    choices: [Africa, Americas, Asia, Europe, Oceania]
    multiple: true
    value: [Africa, Americas, Asia, Europe, Oceania]
---

**Collapse all chunks with Alt+O / Cmd+Option+O**



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, collapse = TRUE, comment = "#>")
```

* Packages.

```{r}
library(tidyverse)
library(here)
```

* Import -- [practice safe paths](https://rstats.wtf/safe-paths.html).

```{r}
gapminder <- read_csv(here("data", "gapminder.csv"))
```



# Your turn

* Explore.

```{r glimpse-1}

```

```{r glimpse-2, eval=FALSE}
gapminder %>% _______()
```

```{r glimpse-3, echo=FALSE}
gapminder %>% glimpse()
```



* Subset rows with `filter()`, where `continent` is "Americas" or "Europe".

```{r filter-continents-1}


```

```{r filter-continents-2, eval=FALSE}
continents <- c("________", "______")
_________ %>% ______(continent %in% continents)
```

```{r filter-continents-3, echo=FALSE}
continents <- c("Americas", "Europe")
gapminder %>% filter(continent %in% continents)
```

Notice the `value` of the `continent` `param` from the YAML header at the top.

```{r}
params
```

* Edit the YAML header so `param` `continent` takes the value [America, Europe].

* Subset rows with `filter()`, where `continent` is `r params$continent`.

* Assign the result to `filtered`.

```{r filter-params-continent-1}



```

```{r filter-params-continent-2, eval=FALSE}
continents <- params$continent

filtered <- _________ %>% 
  ______(continent %in% continents)

filtered
```

```{r filter-params-continent-3, echo=FALSE}
continents <- params$continent

filtered <- gapminder %>% 
  filter(continent %in% continents)

filtered
```



Subset columns using their names and types:

* Select all columns except `country` and `continent`.

```{r}
gapminder %>% select()
```


```{r}
subset_cols <- gapminder %>% 
  select(continent, lifeExp, year) %>% 
  # Returns invisible.
  glimpse() %>% 
  filter(year >= 1980)

subset_cols
```



* Plot a histogram of `lifeExp` (see `?geom_histogram`).

* Plot each `continent` in its own panel with `facet_wrap()`.

```{r boxplot-3, echo=FALSE}
ggplot(data = filtered, aes(lifeExp, fill = continent)) +
  geom_histogram() +
  facet_wrap(~continent)
```
