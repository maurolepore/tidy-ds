---
title: Scooter
output: github_document
params:
  continent:
    choices: [Africa, Americas, Asia, Europe, Oceania]
    multiple: true
    value: [Africa, Americas, Asia, Europe, Oceania]
---

**Collapse all chunks with Alt+O / Cmd+Option+O**



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, collapse = TRUE, comment = "#>")
```

* Packages.

```{r}
library(tidyverse)
library(here)
```

* Import -- [practice safe paths](https://rstats.wtf/safe-paths.html).

```{r}
gapminder <- read_csv(here("data", "gapminder.csv"))
```



# Your turn

* Explore.

```{r glimpse-1}

```

```{r glimpse-2, eval=FALSE}
gapminder %>% _______()
```

```{r glimpse-3, echo=FALSE}
gapminder %>% glimpse()
```



* Using `filter()`, subset rows where `continent` is "Europe".

```{r filter-continents-1}


```

```{r filter-continents-2, eval=FALSE}
continents <- c("________", "______")
_________ %>% ______(continent %in% continents)
```

```{r filter-continents-3, echo=FALSE}
continents <- "Europe"
gapminder %>% filter(continent %in% continents)
```

Notice the `value` of the `continent` `param` from the YAML header at the top.

```{r}
params
```

* Edit the YAML header so `param` `continent` takes the value Europe.

* Using `filter()`, subset rows where `continent` is `params$continent`.

* Assign the result to `filtered`.

```{r filter-params-continent-1}




```

```{r filter-params-continent-2, eval=FALSE}
filtered <- _________ %>% 
  ______(continent %in% ______$continent)

filtered
```

```{r filter-params-continent-3, echo=FALSE}
filtered <- gapminder %>% 
  filter(continent %in% params$continent)

filtered
```



* From `filtered`, exclude `country` and `continent` with `select()`.

* Store the result as `selected`.

```{r selected-1}




```

```{r selected-2, eval=FALSE}
selected <- filtered %>% 
  ______(-country, -_________)
  select(-country, -continent)

selected
```

```{r selected-3, echo=FALSE}
selected <- filtered %>% 
  select(-country, -continent)

selected
```



* Plot a histogram of `lifeExp` (see `?geom_histogram`).

```{r boxplot-1}


```

```{r boxplot-2, eval=FALSE}
ggplot(data = selected, aes(lifeExp)) +
  geom_histogram()
```

```{r boxplot-3, echo=FALSE}
ggplot(data = selected, aes(lifeExp)) +
  geom_histogram()
```

*Histogram of life expectancy in `r params$continent` between `r range(gapminder$year)`.*



* Knit this report for different continents: *Knit > Knit with Parameters ...*.
